<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fairway Pro Shop – Golfutstyr</title>
  <meta name="description" content="Din egen nettbutikk for golfutstyr – drivere, jern og puttere. Laget som én HTML-fil uten rammeverk." />
  <style>
    :root{
      --bg:#0b1020;
      --card:#121735;
      --muted:#9aa4bf;
      --text:#eef2ff;
      --accent:#2ed19b;
      --accent-2:#5ca3ff;
      --danger:#ff6b6b;
      --warning:#ffd166;
      --shadow:0 10px 30px rgba(0,0,0,.25);
      --radius:16px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:linear-gradient(180deg,#0b1020,#0d1330);color:var(--text);font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
    a{color:inherit}
    .container{max-width:1200px;margin:auto;padding:20px}

    /* Header */
    header{position:sticky;top:0;background:rgba(11,16,32,.75);backdrop-filter:saturate(140%) blur(8px);z-index:10;border-bottom:1px solid rgba(255,255,255,.06)}
    .nav{display:flex;align-items:center;gap:16px;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:12px;font-weight:800;letter-spacing:.3px}
    .brand .logo{width:36px;height:36px;border-radius:50%;display:grid;place-items:center;background:conic-gradient(from 210deg at 50% 50%, var(--accent), var(--accent-2));box-shadow:var(--shadow)}
    .tag{font-size:12px;color:var(--muted)}

    /* Controls */
    .controls{display:grid;grid-template-columns:1fr 1fr 1fr auto;gap:12px;margin-top:14px}
    .search{display:flex;align-items:center;gap:10px;background:var(--card);padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.06)}
    .search input{all:unset;flex:1}
    .select, .btn, .pill{appearance:none;border:none;background:var(--card);color:var(--text);padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.06);cursor:pointer}
    .pill{display:flex;align-items:center;gap:8px}
    .btn.accent{background:linear-gradient(135deg,var(--accent),#39e3bd);color:#071314;font-weight:700}
    .btn.secondary{background:var(--card)}
    .icon{width:18px;height:18px;opacity:.9}

    /* Grid */
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px;margin-top:20px}
    .card{grid-column:span 4;background:radial-gradient(1200px 300px at 0% -5%, rgba(94,163,255,.08), transparent),var(--card);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow);display:flex;flex-direction:column}
    .card .media{aspect-ratio:4/3;background:linear-gradient(135deg, rgba(46,209,155,.15), rgba(92,163,255,.15));display:grid;place-items:center}
    .card .media svg{width:72%;height:auto;opacity:.95}
    .card .body{padding:14px}
    .card h3{margin:0 0 6px 0;font-size:18px}
    .meta{display:flex;align-items:center;justify-content:space-between;color:var(--muted);font-size:14px;margin-bottom:10px}
    .price{font-size:20px;font-weight:800;background:linear-gradient(135deg,var(--accent),var(--accent-2));-webkit-background-clip:text;background-clip:text;color:transparent}
    .add{display:flex;gap:8px;margin-top:auto;padding:14px;border-top:1px solid rgba(255,255,255,.06)}
    .qty{display:flex;align-items:center;gap:6px;background:rgba(255,255,255,.04);border-radius:10px;padding:6px}
    .qty button{border:none;background:transparent;color:var(--text);font-size:18px;cursor:pointer;padding:0 6px}
    .qty input{all:unset;width:28px;text-align:center}
    .add .btn{flex:1}

    /* Cart Drawer */
    .drawer{position:fixed;inset:0;display:none}
    .drawer.open{display:block}
    .drawer-bg{position:absolute;inset:0;background:rgba(0,0,0,.5)}
    .drawer-panel{position:absolute;right:0;top:0;bottom:0;width:380px;max-width:100%;background:var(--card);border-left:1px solid rgba(255,255,255,.08);box-shadow:var(--shadow);display:flex;flex-direction:column}
    .drawer-header{display:flex;align-items:center;justify-content:space-between;padding:16px;border-bottom:1px solid rgba(255,255,255,.06)}
    .drawer-items{flex:1;overflow:auto;padding:10px 12px}
    .cart-item{display:grid;grid-template-columns:56px 1fr auto;gap:10px;align-items:center;padding:10px;border:1px solid rgba(255,255,255,.06);border-radius:12px;background:rgba(255,255,255,.03);margin-bottom:10px}
    .thumb{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg, rgba(46,209,155,.2), rgba(92,163,255,.2));display:grid;place-items:center}
    .cart-row{display:flex;align-items:center;justify-content:space-between}
    .cart-qty{display:flex;align-items:center;gap:6px}
    .cart-qty button{border:none;background:rgba(255,255,255,.08);color:var(--text);padding:4px 8px;border-radius:8px;cursor:pointer}
    .cart-remove{background:transparent;border:none;color:var(--danger);cursor:pointer}
    .summary{border-top:1px solid rgba(255,255,255,.06);padding:12px 16px;display:grid;gap:8px}
    .summary .row{display:flex;align-items:center;justify-content:space-between;color:var(--muted)}
    .summary .total{font-size:20px;font-weight:800;color:var(--text)}

    /* Footer */
    footer{margin:40px 0 20px;color:var(--muted);text-align:center}

    /* Badges */
    .badge{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border-radius:999px;background:rgba(46,209,155,.12);border:1px solid rgba(46,209,155,.35);color:#b9ffe6;font-size:12px}

    /* Responsive */
    @media (max-width:1000px){.card{grid-column:span 6}}
    @media (max-width:640px){
      .controls{grid-template-columns:1fr;}
      .card{grid-column:span 12}
      .nav{flex-direction:column;align-items:flex-start;gap:8px}
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="nav">
        <div class="brand">
          <div class="logo" aria-hidden="true">
            <svg viewBox="0 0 100 100" role="img" aria-label="Golfball i bevegelse">
              <circle cx="50" cy="50" r="46" fill="white" />
              <circle cx="40" cy="40" r="4" fill="#cdd7ff"/>
              <circle cx="60" cy="48" r="4" fill="#cdd7ff"/>
              <circle cx="50" cy="62" r="4" fill="#cdd7ff"/>
            </svg>
          </div>
          <div>
            <div>Fairway Pro Shop</div>
            <div class="tag">Drivere • Jern • Puttere</div>
          </div>
        </div>
        <div style="display:flex;gap:8px;align-items:center">
          <span class="badge"><svg class="icon" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l3 7h7l-5.5 4.2L18 21l-6-4-6 4 1.5-7.8L2 9h7z"/></svg> Rask levering</span>
          <button class="pill" id="openCart" title="Åpne handlekurv">
            <svg class="icon" viewBox="0 0 24 24" fill="currentColor"><path d="M7 4h-2l-2 5v2h2l3.6 7.59 1.4-.59L8.25 11h7.5l1.9-4H7z"/></svg>
            Handlekurv <span id="cartCount" style="opacity:.7">(0)</span>
          </button>
        </div>
      </div>

      <div class="controls">
        <label class="search" aria-label="Søk i produkter">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM9.5 14C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
          <input id="search" placeholder="Søk etter drivere, jern, puttere..."/>
        </label>
        <select id="category" class="select" aria-label="Filtrer på kategori">
          <option value="alle">Alle kategorier</option>
          <option value="driver">Drivere</option>
          <option value="jern">Jern</option>
          <option value="putter">Puttere</option>
        </select>
        <select id="sort" class="select" aria-label="Sorter produkter">
          <option value="pop">Mest populære</option>
          <option value="pris_asc">Pris: lav til høy</option>
          <option value="pris_desc">Pris: høy til lav</option>
          <option value="navn">Navn (A–Å)</option>
        </select>
        <button id="resetFilters" class="btn secondary">Nullstill</button>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="grid" id="productGrid" aria-live="polite"></div>
  </main>

  <footer class="container">
    <p>© <span id="year"></span> Fairway Pro Shop. Dette er en demobutikk (ingen betaling behandles).</p>
  </footer>

  <!-- Cart Drawer -->
  <aside class="drawer" id="drawer" aria-hidden="true" aria-label="Handlekurv">
    <div class="drawer-bg" id="drawerBg" role="presentation"></div>
    <div class="drawer-panel" role="dialog" aria-modal="true">
      <div class="drawer-header">
        <strong>Handlekurv</strong>
        <button class="pill" id="closeCart">Lukk</button>
      </div>
      <div class="drawer-items" id="cartItems"></div>
      <div class="summary">
        <div class="row"><span>Delsum</span><span id="subtotal">0 kr</span></div>
        <div class="row"><span>MVA (25%)</span><span id="vat">0 kr</span></div>
        <div class="row total"><span>Å betale</span><span id="total">0 kr</span></div>
        <button class="btn accent" id="checkoutBtn">Gå til kassen</button>
        <button class="btn secondary" id="clearCart">Tøm handlekurv</button>
      </div>
    </div>
  </aside>

  <!-- Checkout (enkel demo) -->
  <dialog id="checkout" style="border:none;border-radius:16px;max-width:560px;width:92%;padding:0;background:var(--card);color:var(--text);box-shadow:var(--shadow)">
    <form method="dialog" style="padding:16px;display:grid;gap:12px">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <strong>Fullfør bestilling</strong>
        <button value="close" class="pill">Lukk</button>
      </div>
      <label>Fullt navn
        <input required name="navn" style="all:unset;background:rgba(255,255,255,.06);padding:10px;border-radius:10px;display:block;width:100%;margin-top:6px"/>
      </label>
      <label>E‑post
        <input required type="email" name="epost" style="all:unset;background:rgba(255,255,255,.06);padding:10px;border-radius:10px;display:block;width:100%;margin-top:6px"/>
      </label>
      <label>Adresse
        <input required name="adresse" style="all:unset;background:rgba(255,255,255,.06);padding:10px;border-radius:10px;display:block;width:100%;margin-top:6px"/>
      </label>
      <label>Postnr / Sted
        <div style="display:grid;grid-template-columns:120px 1fr;gap:8px;margin-top:6px">
          <input required name="postnr" style="all:unset;background:rgba(255,255,255,.06);padding:10px;border-radius:10px;display:block"/>
          <input required name="sted" style="all:unset;background:rgba(255,255,255,.06);padding:10px;border-radius:10px;display:block"/>
        </div>
      </label>
      <p style="color:var(--muted);margin:6px 0 0">Dette er kun en demo – ingen betaling trekkes.</p>
      <button class="btn accent" value="submit">Send bestilling</button>
    </form>
  </dialog>

  <script>
    const NOK = n => new Intl.NumberFormat('no-NO', { style:'currency', currency:'NOK', maximumFractionDigits:0 }).format(n);

    // Enkel produktkatalog (du kan fritt redigere eller utvide)
    const PRODUCTS = [
      {id:'d1', navn:'Driver – Aero XR 10.5°', kategori:'driver', pris:3499, rating:4.7, vekt:'300g'},
      {id:'d2', navn:'Driver – Titan Pro 9°', kategori:'driver', pris:4299, rating:4.8, vekt:'295g'},
      {id:'i1', navn:'Jernsett – Blade 4–PW', kategori:'jern', pris:6999, rating:4.6, vekt:'—'},
      {id:'i2', navn:'Jernsett – Forged 5–PW', kategori:'jern', pris:8499, rating:4.9, vekt:'—'},
      {id:'p1', navn:'Putter – Align One', kategori:'putter', pris:1799, rating:4.5, vekt:'360g'},
      {id:'p2', navn:'Putter – Mallet Tour', kategori:'putter', pris:2199, rating:4.7, vekt:'370g'},
      {id:'d3', navn:'Driver – Carbon LT 12°', kategori:'driver', pris:3899, rating:4.4, vekt:'292g'},
      {id:'i3', navn:'Jernsett – GameImprover 6–PW', kategori:'jern', pris:5599, rating:4.3, vekt:'—'},
      {id:'p3', navn:'Putter – Blade Classic', kategori:'putter', pris:1599, rating:4.2, vekt:'355g'}
    ];

    // SVG-ikoner som produktbilder (plassholdere uten eksterne filer)
    const ART = {
      driver:`<svg viewBox='0 0 120 90' xmlns='http://www.w3.org/2000/svg'>
        <defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop offset='0' stop-color='#2ed19b'/><stop offset='1' stop-color='#5ca3ff'/></linearGradient></defs>
        <ellipse cx='70' cy='55' rx='35' ry='24' fill='url(#g)' opacity='.9'/>
        <rect x='20' y='40' width='45' height='6' rx='3' fill='#cdd7ff'/>
      </svg>`,
      jern:`<svg viewBox='0 0 120 90' xmlns='http://www.w3.org/2000/svg'>
        <defs><linearGradient id='g2' x1='0' y1='0' x2='1' y2='1'><stop offset='0' stop-color='#5ca3ff'/><stop offset='1' stop-color='#2ed19b'/></linearGradient></defs>
        <path d='M20 60 Q60 20 100 30 L95 45 Q60 38 30 62 Z' fill='url(#g2)' opacity='.9'/>
      </svg>`,
      putter:`<svg viewBox='0 0 120 90' xmlns='http://www.w3.org/2000/svg'>
        <rect x='25' y='55' width='70' height='10' rx='5' fill='#b9c6ff'/>
        <rect x='75' y='20' width='6' height='40' rx='3' fill='#cdd7ff'/>
      </svg>`
    };

    // Tilstand
    let cart = JSON.parse(localStorage.getItem('cart')||'{}');

    // UI referanser
    const grid = document.getElementById('productGrid');
    const search = document.getElementById('search');
    const category = document.getElementById('category');
    const sort = document.getElementById('sort');
    const resetFilters = document.getElementById('resetFilters');
    const cartCount = document.getElementById('cartCount');
    const drawer = document.getElementById('drawer');
    const drawerBg = document.getElementById('drawerBg');
    const openCart = document.getElementById('openCart');
    const closeCart = document.getElementById('closeCart');
    const cartItems = document.getElementById('cartItems');
    const subtotalEl = document.getElementById('subtotal');
    const vatEl = document.getElementById('vat');
    const totalEl = document.getElementById('total');
    const checkoutBtn = document.getElementById('checkoutBtn');
    const checkout = document.getElementById('checkout');

    document.getElementById('year').textContent = new Date().getFullYear();

    function productArt(kat){
      return ART[kat] || ART['driver'];
    }

    function renderProducts(){
      let q = search.value.trim().toLowerCase();
      let cat = category.value;
      let items = PRODUCTS.filter(p => (cat==='alle'||p.kategori===cat) && (!q || p.navn.toLowerCase().includes(q)));
      switch (sort.value){
        case 'pris_asc': items.sort((a,b)=>a.pris-b.pris); break;
        case 'pris_desc': items.sort((a,b)=>b.pris-a.pris); break;
        case 'navn': items.sort((a,b)=>a.navn.localeCompare(b.navn,'no')); break;
        default: items.sort((a,b)=>b.rating-a.rating); // pop
      }
      grid.innerHTML = items.map(p=>`
        <article class="card" data-id="${p.id}" aria-label="${p.navn}">
          <div class="media">${productArt(p.kategori)}</div>
          <div class="body">
            <h3>${p.navn}</h3>
            <div class="meta">
              <span>⭐ ${p.rating.toFixed(1)}</span>
              <span class="price">${NOK(p.pris)}</span>
            </div>
            <div class="add">
              <div class="qty" aria-label="Antall">
                <button class="dec" title="Færre">−</button>
                <input class="q" value="1" inputmode="numeric" pattern="[0-9]*"/>
                <button class="inc" title="Flere">+</button>
              </div>
              <button class="btn accent addToCart">Legg i handlekurv</button>
            </div>
          </div>
        </article>`).join('');

      grid.querySelectorAll('.card').forEach(card=>{
        const dec = card.querySelector('.dec');
        const inc = card.querySelector('.inc');
        const q = card.querySelector('.q');
        const btn = card.querySelector('.addToCart');
        dec.addEventListener('click',()=>{ q.value = Math.max(1, (parseInt(q.value)||1)-1) });
        inc.addEventListener('click',()=>{ q.value = (parseInt(q.value)||1)+1 });
        btn.addEventListener('click',()=>{
          const id = card.getAttribute('data-id');
          const qty = Math.max(1, parseInt(q.value)||1);
          addToCart(id, qty);
        });
      });
    }

    function addToCart(id, qty=1){
      cart[id] = (cart[id]||0) + qty;
      persist();
      toast('Lagt i handlekurv');
    }

    function removeFromCart(id){
      delete cart[id];
      persist();
    }

    function setQty(id, qty){
      if(qty<=0) removeFromCart(id); else { cart[id]=qty; persist(); }
    }

    function persist(){
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartBadge();
      renderCart();
    }

    function updateCartBadge(){
      const count = Object.values(cart).reduce((a,b)=>a+b,0);
      cartCount.textContent = `(${count})`;
    }

    function renderCart(){
      const entries = Object.entries(cart);
      if(entries.length===0){
        cartItems.innerHTML = `<p style="color:var(--muted);padding:12px">Handlekurven er tom.</p>`;
        subtotalEl.textContent = NOK(0); vatEl.textContent=NOK(0); totalEl.textContent=NOK(0);
        return;
      }
      let subtotal = 0;
      cartItems.innerHTML = entries.map(([id,qty])=>{
        const p = PRODUCTS.find(x=>x.id===id);
        const line = p.pris * qty; subtotal += line;
        return `<div class="cart-item" data-id="${id}">
          <div class="thumb">${productArt(p.kategori)}</div>
          <div>
            <div class="cart-row"><strong>${p.navn}</strong> <span>${NOK(p.pris)}</span></div>
            <div class="cart-row">
              <div class="cart-qty">
                <button class="minus">−</button>
                <span aria-live="polite">${qty}</span>
                <button class="plus">+</button>
              </div>
              <em>${NOK(line)}</em>
            </div>
          </div>
          <button class="cart-remove" title="Fjern">Fjern</button>
        </div>`
      }).join('');

      const vat = Math.round(subtotal * 0.25);
      const total = subtotal + vat;
      subtotalEl.textContent = NOK(subtotal);
      vatEl.textContent = NOK(vat);
      totalEl.textContent = NOK(total);

      // wire up buttons
      cartItems.querySelectorAll('.cart-item').forEach(row=>{
        const id = row.getAttribute('data-id');
        row.querySelector('.minus').addEventListener('click',()=> setQty(id, (cart[id]||1)-1));
        row.querySelector('.plus').addEventListener('click',()=> setQty(id, (cart[id]||1)+1));
        row.querySelector('.cart-remove').addEventListener('click',()=> removeFromCart(id));
      });
    }

    // Drawer
    function openDrawer(){ drawer.classList.add('open'); drawer.setAttribute('aria-hidden','false'); }
    function closeDrawer(){ drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true'); }

    openCart.addEventListener('click', openDrawer);
    closeCart.addEventListener('click', closeDrawer);
    drawerBg.addEventListener('click', closeDrawer);

    // Checkout
    checkoutBtn.addEventListener('click', ()=>{
      if(Object.keys(cart).length===0){ toast('Handlekurven er tom'); return; }
      checkout.showModal();
    });
    checkout.addEventListener('close', ()=>{
      if(checkout.returnValue==='submit'){
        toast('Takk for bestillingen! (demo)');
        cart = {}; persist(); closeDrawer();
      }
    });

    // Filter-UI
    [search, category, sort].forEach(el=> el.addEventListener('input', renderProducts));
    resetFilters.addEventListener('click', ()=>{ search.value=''; category.value='alle'; sort.value='pop'; renderProducts(); });

    // Tøm handlekurv
    document.getElementById('clearCart').addEventListener('click', ()=>{ cart={}; persist(); });

    // Små varslinger
    function toast(msg){
      const t = document.createElement('div');
      t.textContent = msg; t.style.position='fixed'; t.style.bottom='18px'; t.style.left='50%'; t.style.transform='translateX(-50%)'; t.style.background='rgba(0,0,0,.7)'; t.style.padding='10px 14px'; t.style.borderRadius='10px'; t.style.border='1px solid rgba(255,255,255,.2)'; t.style.zIndex=50;
      document.body.appendChild(t); setTimeout(()=>t.remove(), 1600);
    }

    // Init
    updateCartBadge();
    renderProducts();
    renderCart();
  </script>
</body>
</html>
